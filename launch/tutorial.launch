<launch>
    <!-- Changing the frequency changes how often the messesage is sent to the listner  node -->
    <arg name="frequency" default="5"/>

    <arg name="record_bag" default="false" />

    <!-- This Node handles output for beginner_tutorials -->
    <node
        pkg    = "beginner_tutorials"
        type   = "talker"
        name   = "talker"
        output = "screen"
        args   = "$(arg frequency)"

    />

   <!-- Thise node recieves input messages and outputs them to the screen -->
    <node
        pkg           = "beginner_tutorials"
        type          = "listener"
        name          = "listener"
        output        = "screen"
        launch-prefix = "xterm -e"
    />


   <!-- Allows for recording and playback -->
    <node 
         pkg="rosbag" 
         type="record" 
         args="-a -O talker.bag" 
         if="$(arg record_bag)"
         name="record_rosbag"
    />
</launch>
